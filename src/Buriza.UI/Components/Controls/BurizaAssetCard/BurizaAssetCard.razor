@using Buriza.UI.Resources
@using Buriza.Data.Models.Enums

@namespace Buriza.UI.Components.Controls

<MudCard
    @onclick="OnClick"
    Class="@($"max-[376px]:!p-3 w-full shadow-sm! !gap-4 !flex-row items-center justify-between !px-4 !py-2 !rounded-[12px] !bg-[var(--mud-palette-drawer-background)] md:!bg-[var(--mud-palette-overlay-light)] {(IsSelected ? "!border-[var(--mud-palette-secondary)] border" : "")} " + Class)"
>
    <div class="flex items-center gap-2! xl:w-[160px]">
<div class="@($"max-[376px]:w-8 max-[376px]:h-8 {(AssetType == AssetType.Token ? "!rounded-full" : "!rounded-[8px]")} asset-icon flex items-center justify-center aspect-square overflow-hidden w-[60px] h-[60px] sm:w-[56px] sm:h-[56px]")">
            <MudImage
                Alt="@AssetName"
                Src="@AssetIcon"
            />
        </div>
        <div class="!mt-1">
            <div>
                <MudText Class="max-[376px]:text-sm! !font-semibold !leading-[20px]">
                    @AssetName
                </MudText>
            </div>
            @if (AssetType == AssetType.Token)
            {
                <div class="@($"flex items-center {(PricePercentage >= 0 ? "!text-[var(--mud-palette-success)]" : "!text-[var(--mud-palette-error)]")}")">
                    <MudIcon Icon="@(PricePercentage >= 0 ? BurizaIcons.ArrowUp1Icon : BurizaIcons.ArrowDown1Icon)" Class="max-[376px]:!text-base max-[376px]:!mr-0 !ml-[-6px] !mr-[-4px]"/>
                    <MudText Class="max-[376px]:!text-[10px] !text-sm">
                        @Math.Abs(PricePercentage)%
                    </MudText>
                </div>
            }
            else
            {
                <div>
                    <MudText Class="!text-sm">
                        @CollectionName
                    </MudText>
                </div>
            }
        </div>
    </div>
    <div class="graph max-w-[150px] sm:max-w-[267px]">
        <MudImage
            Alt="sample graph"
            Src="@(PricePercentage >= 0 ? Misc.GraphPositive : Misc.GraphNegative)"
        />
    </div>
    <div class="!mt-1 xl:w-[76px] flex flex-col items-end justify-center">
        @if (AssetType == AssetType.Token)
        {
            <MudText Class="max-[376px]:!text-xs !font-semibold !leading-[20px] !w-full !text-end">
                @AssetAmount
            </MudText>
            <MudText Class="max-[376px]:!text-[10px] !text-sm !text-[var(--mud-palette-text-secondary)] !w-max !text-end">
               â‰ˆ $@UsdConversion
            </MudText>
        }
        else
        {
            <MudText Class="!font-semibold !leading-[20px] !w-full !text-end">
                $@UsdConversion
            </MudText>
            <div class="@($"flex items-center justify-end {(PricePercentage >= 0 ? "!text-[var(--mud-palette-success)]" : "!text-[var(--mud-palette-error)]")}")">
                <MudIcon Icon="@(PricePercentage >= 0 ? BurizaIcons.ArrowUp1Icon : BurizaIcons.ArrowDown1Icon)" Class="!ml-[-6px] !mr-[-4px]"/>
                <MudText Class="!text-sm">
                    @Math.Abs(PricePercentage)%
                </MudText>
            </div>
        }
    </div>
</MudCard>