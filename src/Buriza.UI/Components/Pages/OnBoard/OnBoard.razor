@using Buriza.UI.Resources

@page "/onboard"

@namespace Buriza.UI.Components.Pages

<section class="max-md:h-screen h-[calc(100vh-24px)]">
    @* <div class="max-[376px]:fixed max-[376px]:top-[3px] max-[376px]:right-2">
        <MudIconButton
            Icon="@BurizaIcons.FullscreenSymbolIcon"
            Class="max-[376px]:!block !hidden !px-2 [&_.mud-icon-root]:!text-[var(--mud-palette-primary-lighten)]"
        >
        </MudIconButton>
    </div> *@

    <div class="max-[376px]:!py-4 relative container mx-auto h-full w-full flex flex-col items-center justify-center !px-4 !py-8 !gap-3 sm:!gap-10 sm:justify-between">
        @* Mobile App Bar - visible on slides 1-4, hidden on first and last slide *@
        @if (CurrentSlide >= 1 && CurrentSlide <= 4)
        {
            <div class="max-[376px]:hidden sm:hidden fixed top-0 left-0 right-0 z-10 flex items-center mt-10! !px-4 !py-3 bg-[var(--mud-palette-background)] !shadow-md">
                <BurizaButton
                    Variant="Variant.Filled"
                    Color="Color.Secondary"
                    OnClick="OnGoBackClicked"
                    Ripple="false"
                    Class="!w-max !bg-transparent !min-w-max hover:!bg-transparent active:!bg-transparent focus:!bg-transparent !px-0 !py-0 h-8! [&_.mud-button-label]:!gap-1"
                >
                    <MudIcon Icon="@BurizaIcons.ChevronRightIcon" />
                    Go back
                </BurizaButton>
            </div>
        }
        <div class="@($"max-lg:!hidden absolute -bottom-2 right-0 transition-opacity duration-300 ease-in-out {(CurrentSlide == 1 || CurrentSlide == 2 ? "opacity-100" : "opacity-0 pointer-events-none")}")">
            <MudImage
                Alt="buriza mascot"
                Src="@Mascots.Mascot5"
                Class="w-[330px]"
            />
        </div>
        @* Progress Stepper - visible only on slides 1-5 (or 2-4 for import mode) *@
        @{
            bool showProgress = IsImportMode
                ? (CurrentSlide >= 2 && CurrentSlide <= 4)
                : (CurrentSlide >= 1 && CurrentSlide <= 4);
            string[] stepLabels = IsImportMode
                ? ["Recovery", "Name", "Password"]
                : ["Save", "Recovery", "Name", "Password"];
            int totalSteps = IsImportMode ? 3 : 4;
            int activeStep = IsImportMode
                ? Math.Clamp(CurrentSlide - 1, 1, 3)
                : Math.Clamp(CurrentSlide, 1, 4);
            double stepWidth = 100.0 / totalSteps;
            double leftPercent = (activeStep - 1) * stepWidth + (stepWidth / 2);
        }
        <div class="@($"w-full flex flex-col max-w-[420px]! transition-all duration-150 {(showProgress ? "max-[376px]:mt-3! min-[376px]:mt-[92px]! sm:mt-0! !h-[32px] opacity-100" : "opacity-0 h-0! pointer-events-none")}")">
            @* Step Label - pops up from bottom *@
            <div class="w-full relative h-5 mb-1">
                <div class="absolute" style="left: @(leftPercent)%;">
                    <div @key="activeStep" class="relative animate-step-label">
                        <MudImage
                            Alt="step pointer"
                            Src="@Misc.DiamondBlue"
                            Class="absolute -top-4 left-1/2 -translate-x-1/2 w-4"
                        />
                        <MudText Class="!text-xs !text-[var(--mud-palette-primary-lighten)] !font-semibold">
                            @stepLabels[activeStep - 1]
                        </MudText>
                    </div>
                </div>
            </div>
            @* Progress Bars *@
            <div class="w-full gap-1 flex items-center">
                @for (int i = 1; i <= totalSteps; i++)
                {
                    int step = i;
                    int adjustedCurrentSlide = IsImportMode ? CurrentSlide - 1 : CurrentSlide;
                    bool isCompleted = adjustedCurrentSlide > step;
                    bool isActive = adjustedCurrentSlide == step;
                    <div class="w-full h-[6px] rounded-full bg-[var(--mud-palette-tertiary-lighten)] overflow-hidden">
                        <div class="@($"h-full rounded-full transition-all duration-500 ease-out {(isCompleted ? "w-full bg-[var(--mud-palette-tertiary-darken)]" : isActive ? "animate-progress-fill bg-[var(--mud-palette-primary)]" : "w-0 bg-[var(--mud-palette-primary)]")}")" />
                    </div>
                }
            </div>
        </div>
        <MudCarousel
                @ref="_carousel"
                TData="object"
                Class="max-[376px]:[&_.mud-carousel-item]:!mt-[10px] mud-width-full h-full [&_.mud-carousel-item]: sm:max-h-[720px]"
                ShowArrows="false"
                ShowBullets="false"
                AutoCycle="false"
                EnableSwipeGesture="false"
                SelectedIndexChanged="@OnSlideChanged"
            >
            @*1st slide*@
            <MudCarouselItem Transition="Transition.Fade" Class="max-[376px]:gap-10! flex flex-col items-center justify-center -mt-4! gap-6! md:!gap-10">
                <div class="md:hidden">
                    <MudImage
                        Alt="onboard buriza"
                        Src="@Misc.OnboardLogo"
                        Class="max-[376px]:!w-[230px] !w-[340px]"
                    />
                </div>
                <div class="!text-center !space-y-2 md:hidden">
                    <MudText Class="!text-[32px] !font-semibold">
                        Welcome to Buriza
                    </MudText>
                    <MudText>
                        <span>To get started, create new wallet or</span><br/>
                        <span>import an existing seed phrase.</span>
                    </MudText>
                </div>
                <div class="max-md:hidden flex flex-col items-center justify-center">
                    <div class="">
                        <MudImage
                            Alt="Buriza Logo"
                            Src="@(AppStateService.IsDarkMode ? Logos.BurizaDark : Logos.BurizaLight)"
                            Class="!w-[128px]"
                        />
                    </div>
                    <div class="!mt-4 !text-center">
                        <div class="relative">
                            <div>
                                <MudText Class="!text-[48px] !text-[var(--mud-palette-text-primary)]">
                                    Welcome to Buriza
                                </MudText>
                            </div>
                            <div>
                                <MudImage
                                    Alt="yellow diamond"
                                    Src="@Misc.DiamondYellow"
                                    Class="absolute top-0 -left-13 w-[50px] rotate-3"
                                />
                                <MudImage
                                    Alt="blue diamond"
                                    Src="@Misc.DiamondBlue"
                                    Class="absolute -top-4 -left-4 rotate-3 w-6"
                                />
                                <MudImage
                                    Alt="yellow diamond"
                                    Src="@Misc.DiamondYellow"
                                    Class="absolute top-7 -right-12 rotate-3 w-6"
                                />
                                <MudImage
                                    Alt="purple diamond"
                                    Src="@Misc.DiamondPurple"
                                    Class="absolute -top-6 -right-11 w-[60px] rotate-3"
                                />
                            </div>
                        </div>
                        <MudText Class="!text-base !text-[var(--mud-palette-gray-dark)] !font-semibold">
                            How would you like to get started?
                        </MudText>
                    </div>
                </div>
                <div class="max-md:hidden w-full flex flex-col items-center justify-center !gap-6">
                    <BurizaButton
                        OnClick="OnImportFromSeedClicked"
                        Ripple="false"
                        Class="max-w-[386px] !py-9 h-[238px]! [&_.mud-button-label]:h-full [&_.mud-button-label]:!justify-between [&_.mud-button-label]:flex-col! rounded-[16px]!">
                        <div>
                            <MudImage
                                Alt="mascot 8"
                                Src="@Mascots.Mascot8"
                                Class="!w-[132px]"
                            />
                        </div>
                        <div class="!text-center">
                            <MudText Class="!text-xl !font-medium !text-[var(--mud-palette-text-primary)]">
                                Import from seed
                            </MudText>
                            <MudText Class="!text-sm !font-light !text-[var(--mud-palette-text-primary)]">
                                Use an exisiting recovery phrase
                            </MudText>
                        </div>
                    </BurizaButton>
                    <BurizaButton
                        OnClick="OnCreateNewWalletClicked"
                        Ripple="false"
                        Class="max-w-[386px] !py-9 h-[238px]! [&_.mud-button-label]:h-full [&_.mud-button-label]:!justify-between [&_.mud-button-label]:flex-col! rounded-[16px]!">
                        <div>
                            <MudImage
                                Alt="mascot 8"
                                Src="@Mascots.Mascot9"
                                Class="!w-[92px]"
                            />
                        </div>
                        <div class="!text-center">
                            <MudText Class="!text-xl !font-medium !text-[var(--mud-palette-text-primary)]">
                                Create new wallet
                            </MudText>
                            <MudText Class="!text-sm !font-light !text-[var(--mud-palette-text-primary)]">
                                Set up a new Buriza wallet
                            </MudText>
                        </div>
                    </BurizaButton>
                </div>
            </MudCarouselItem>
            @*2nd slide*@
            <MudCarouselItem Transition="Transition.Fade" Class="max-[376px]:gap-3! flex flex-col items-center gap-5! !mt-[20px] sm:gap-8!">
                 <div class="!text-center !space-y-2 max-w-[420px]!">
                    <div class="max-[376px]:!px-[32px] relative">
                        <div>
                            <MudText Class="max-[376px]:!text-xl !text-2xl !font-medium">
                                Save This Phrase
                            </MudText>
                        </div>
                        <div>
                            <MudImage
                                Alt="yellow diamond"
                                Src="@Misc.DiamondYellow"
                                Class="max-[376px]:w-[20px] max-[376px]:left-1 max-[376px]:top-2 absolute top-0 -left-2 w-[32px] rotate-3"
                            />
                            <MudImage
                                Alt="blue diamond"
                                Src="@Misc.DiamondBlue"
                                Class="max-[376px]:left-4 max-[376px]:-top-2 absolute -top-3 left-5 rotate-3"
                            />
                            <MudImage
                                Alt="yellow diamond"
                                Src="@Misc.DiamondYellow"
                                Class="max-[376px]:right-0 max-[376px]:top-2 absolute top-3 -right-2 rotate-3"
                            />
                            <MudImage
                                Alt="purple diamond"
                                Src="@Misc.DiamondPurple"
                                Class="max-[376px]:w-[24px] max-[376px]:right-3 max-[376px]:-top-4 absolute -top-5 right-0 w-[40px] rotate-3"
                            />
                        </div>
                    </div>
                    <div>
                        <MudText Class="max-[376px]:!text-xs !font-light">
                            <span>This is your</span>
                            <span class="!font-semibold">master key. </span>
                            <span>Be sure to</span><br/>
                            <span>save it somewhere safe and secure!</span>
                        </MudText>
                    </div>
                </div>
                <div class="max-[376px]:h-[calc(100vh-304px)]! max-sm:max-h-[328px]! max-sm:overflow-y-auto max-sm:p-2! w-full bg-[var(--mud-palette-dark-darken)] rounded-[24px] max-w-[420px]! h-[calc(100vh-482px)]! sm:h-[388px]! p-4! md:p-6!">
                    <div class="@($"max-[430px]:!gap-x-2 w-full grid grid-cols-3 place-items-center !gap-x-2 !gap-y-2  transition-all duration-200 ease-in-out {(IsPhraseTransitioning ? "opacity-0 scale-[0.98]" : "opacity-100 scale-100")}")">
                        @foreach (var pair in (RecoveryPhrase ?? Enumerable.Empty<string>())
                            .Select((item, index) => new { item, index }))
                            {
                                <div class="max-sm:!px-3 max-sm:!py-[6px] max-[376px]:h-auto w-full !py-2 h-[32px] sm:h-[36px] bg-[var(--mud-palette-gray-default)] rounded-full !px-3 sm:!px-4">
                                    <MudText Class="max-[376px]:!text-xs !text-sm">
                                        <span>@(pair.index + 1).</span>
                                        <span>@pair.item</span>
                                    </MudText>
                                </div>
                            }
                    </div>
                </div>
                <div class="w-full flex items-center justify-between max-w-[420px]!">
                    <div>
                        <MudText Class="!text-sm !font-medium">
                            Recovery Phrase Length:
                        </MudText>
                    </div>
                    <div>
                        <MudToggleGroup 
                            T="int" 
                            @bind-Value="PhraseLength" 
                            Outlined="false"
                            Class="max-[376px]:w-[138px] max-[376px]:[&_.mud-button-label]:!text-xs w-[150px] !rounded-full h-[24px] [&_.mud-button-label]:!text-[var(--mud-palette-primary-lighten)] [&_.mud-toggle-item-selected_.mud-button-label]:!text-[var(--mud-palette-primary-text)] [&_.mud-button-filled]:!rounded-full [&_.mud-button-filled]:!bg-[var(--mud-palette-primary-lighten)]"
                        >
                            <MudToggleItem Value="12" Class="!rounded-full"/>
                            <MudToggleItem Value="15" Class="!rounded-full"/>
                            <MudToggleItem Value="24" Class="!rounded-full"/>
                        </MudToggleGroup>
                    </div>
                </div>
                <div class="max-[376px]:flex! max-[376px]:!mt-auto max-md:hidden w-full flex items-center justify-between max-w-[420px]! ">
                    <div>
                        <BurizaButton
                            Variant="Variant.Filled"
                            Color="Color.Secondary"
                            OnClick="OnGoBackClicked"
                            Ripple="false"
                            Class="!w-full !bg-transparent !min-w-max hover:!bg-transparent active:!bg-transparent focus:!bg-transparent !px-0 [&_.mud-button-label]:!gap-1"
                        >
                            <MudIcon Icon="@BurizaIcons.ChevronRightIcon" />
                            Go back
                        </BurizaButton>
                    </div>
                    <div class="flex items-center gap-2">
                        <MudIconButton
                            Icon="@BurizaIcons.CopySymbolIcon"
                            OnClick="OnCopyPhraseClicked"
                            Class="!p-0 !bg-[var(--mud-palette-overlay-light)] !h-10 !w-10 [&_.mud-icon-root]:!text-[var(--mud-palette-primary-lighten)]"
                        />
                        <BurizaButton
                            Variant="Variant.Filled"
                            Color="Color.Primary"
                            OnClick="OnNextButtonClicked"
                            Class="!w-[95px]"
                        >
                            Next
                        </BurizaButton>
                    </div>
                </div>
            </MudCarouselItem>
            @*3rd slide*@
            <MudCarouselItem Transition="Transition.Fade" Class="max-[376px]:gap-3! flex flex-col items-center gap-5! !mt-[20px] sm:gap-8!">
                <div class="!text-center !space-y-2 max-w-[420px]!">
                    <div class="max-[376px]:!px-[32px] relative">
                        <div>
                            <MudText Class="max-[376px]:!text-xl !text-2xl !font-medium">
                                Recovery Phrase
                            </MudText>
                        </div>
                        <div>
                            <MudImage
                                Alt="yellow diamond"
                                Src="@Misc.DiamondYellow"
                                Class="max-[376px]:w-[20px] max-[376px]:left-1 max-[376px]:top-2 absolute top-0 -left-2 w-[32px] rotate-3"
                            />
                            <MudImage
                                Alt="blue diamond"
                                Src="@Misc.DiamondBlue"
                                Class="max-[376px]:left-4 max-[376px]:-top-2 absolute -top-3 left-5 rotate-3"
                            />
                            <MudImage
                                Alt="yellow diamond"
                                Src="@Misc.DiamondYellow"
                                Class="max-[376px]:right-0 max-[376px]:top-2 absolute top-3 -right-2 rotate-3"
                            />
                            <MudImage
                                Alt="purple diamond"
                                Src="@Misc.DiamondPurple"
                                Class="max-[376px]:w-[24px] max-[376px]:right-3 max-[376px]:-top-4 absolute -top-5 right-0 w-[40px] rotate-3"
                            />
                        </div>
                    </div>
                    <div>
                        <MudText Class="max-[376px]:!text-xs !font-light">
                            <span>Type in the recovery phrase of the</span><br/>
                            <span>walet you wish to import.</span>
                        </MudText>
                    </div>
                </div>
                <div class="max-[376px]:h-[calc(100vh-304px)]! max-sm:max-h-[328px]! max-sm:overflow-y-auto max-sm:p-2! w-full bg-[var(--mud-palette-dark-darken)] rounded-[24px] max-w-[420px]! h-[calc(100vh-482px)]! sm:h-[388px]! p-4! md:p-6!">
                    <div class="@($"max-[430px]:!gap-x-2 w-full grid grid-cols-3 place-items-center !gap-x-2 !gap-y-2 transition-all duration-200 ease-in-out {(IsPhraseTransitioning ? "opacity-0 scale-[0.98]" : "opacity-100 scale-100")}")">
                        @for (int i = 1; i <= DisplayedPhraseLength; i++)
                        {
                            int index = i;
                            string wordValue = index <= ImportedPhraseWords.Count ? ImportedPhraseWords[index - 1] : "";
                            <div class="max-sm:!px-3 max-sm:!py-[6px] max-[376px]:h-auto flex items-center w-full !py-2 h-[32px] sm:h-[36px] bg-[var(--mud-palette-gray-default)] rounded-full !px-3 sm:!px-4">
                                <MudText Class="max-[376px]:!text-xs !text-sm">@index.</MudText>
                                <BurizaTextField
                                    Value="@wordValue"
                                    Class="max-[376px]:[&_input]:!text-xs [&_input]:!text-sm [&_input]:!py-0 [&_input]:pl-1! [&_input]:!px-1 [&_input]:pt-0! [&_input]:pb-0! [&_.mud-input-outlined-border]:!border-none [&_.mud-input]:pr-0! [&_input]:caret-[var(--mud-palette-text-primary)]!"
                                />
                            </div>
                        }
                    </div>
                </div>
                <div class="w-full flex items-center justify-between max-w-[420px]!">
                    <div>
                        <MudText Class="!text-sm !font-medium">
                            Recovery Phrase Length:
                        </MudText>
                    </div>
                    <div>
                        <MudToggleGroup
                            T="int"
                            @bind-Value="PhraseLength"
                            Outlined="false"
                            Disabled="@(!IsImportMode)"
                            Class="max-[376px]:w-[138px] max-[376px]:[&_.mud-button-label]:!text-xs w-[150px] !rounded-full h-[24px] [&_.mud-button-label]:!text-[var(--mud-palette-primary-lighten)] [&_.mud-toggle-item-selected_.mud-button-label]:!text-[var(--mud-palette-primary-text)] [&_.mud-button-filled]:!rounded-full [&_.mud-button-filled]:!bg-[var(--mud-palette-primary-lighten)]"
                        >
                            <MudToggleItem Value="12" Class="!rounded-full"/>
                            <MudToggleItem Value="15" Class="!rounded-full"/>
                            <MudToggleItem Value="24" Class="!rounded-full"/>
                        </MudToggleGroup>
                    </div>
                </div>
                <div class="max-[376px]:flex! max-[376px]:!mt-auto max-md:hidden w-full flex items-center justify-between max-w-[420px]!">
                    <div>
                        <BurizaButton
                            Variant="Variant.Filled"
                            Color="Color.Secondary"
                            OnClick="OnGoBackClicked"
                            Ripple="false"
                            Class="!w-full !bg-transparent !min-w-max hover:!bg-transparent active:!bg-transparent focus:!bg-transparent !px-0 [&_.mud-button-label]:!gap-1"
                        >
                            <MudIcon Icon="@BurizaIcons.ChevronRightIcon" />
                            Go back
                        </BurizaButton>
                    </div>
                    <div class="flex items-center gap-2">
                        <MudIconButton
                            Icon="@Icons.Material.Filled.ContentPaste"
                            OnClick="OnPastePhraseClicked"
                            Class="!p-0 !bg-[var(--mud-palette-overlay-light)] !h-10 !w-10 [&_.mud-icon-root]:!text-xl [&_.mud-icon-root]:!text-[var(--mud-palette-primary-lighten)]"
                        />
                        <BurizaButton
                            Variant="Variant.Filled"
                            Color="Color.Primary"
                            OnClick="OnNextButtonClicked"
                            Class="!w-[95px]"
                        >
                            Next
                        </BurizaButton>
                    </div>
                </div>
            </MudCarouselItem>
            @*4th slide*@
            <MudCarouselItem Transition="Transition.Fade" Class="max-[376px]:gap-3! flex flex-col items-center gap-5! !mt-[20px] sm:gap-8!">
                <div class="!text-center !space-y-2 max-w-[420px]!">
                    <div class="max-[376px]:!px-[32px] relative">
                        <div>
                            <MudText Class="max-[376px]:!text-xl !text-2xl !font-medium">
                                Name your wallet
                            </MudText>
                        </div>
                        <div>
                            <MudImage
                                Alt="yellow diamond"
                                Src="@Misc.DiamondYellow"
                                Class="max-[376px]:w-[20px] max-[376px]:left-1 max-[376px]:top-2 absolute top-0 -left-9 w-[32px] rotate-3"
                            />
                            <MudImage
                                Alt="blue diamond"
                                Src="@Misc.DiamondBlue"
                                Class="max-[376px]:left-4 max-[376px]:-top-2 absolute -top-3 -left-4 rotate-3"
                            />
                            <MudImage
                                Alt="yellow diamond"
                                Src="@Misc.DiamondYellow"
                                Class="max-[376px]:right-0 max-[376px]:top-2 absolute top-3 -right-8 rotate-3"
                            />
                            <MudImage
                                Alt="purple diamond"
                                Src="@Misc.DiamondPurple"
                                Class="max-[376px]:w-[24px] max-[376px]:right-3 max-[376px]:-top-4 absolute -top-5 -right-8 w-[40px] rotate-3"
                            />
                        </div>
                    </div>
                    <div>
                        <MudText Class="max-[376px]:h-[20px] max-[376px]:!text-xs !font-light h-[48px]">
                            <span>Almost there!</span>
                        </MudText>
                    </div>
                </div>
                <div class="w-full max-w-[420px]! sm:h-[444px]!">
                    <div>
                        <BurizaTextField
                            Label="Wallet Name"
                        />
                    </div>
                    <div class="max-sm:!mt-6 w-full h-full flex items-center justify-center">
                        <MudImage
                            Alt="onboard buriza"
                            Src="@Mascots.Mascot2"
                            Class="max-[376px]:!w-[235px] !w-[250px] sm:!w-[314px]"
                        />
                    </div>
                </div>
                <div class="max-[376px]:flex! max-[376px]:!mt-auto max-md:hidden w-full flex items-center justify-between max-w-[420px]!">
                    <div>
                        <BurizaButton
                            Variant="Variant.Filled"
                            Color="Color.Secondary"
                            OnClick="OnGoBackClicked"
                            Ripple="false"
                            Class="!w-full !bg-transparent !min-w-max hover:!bg-transparent active:!bg-transparent focus:!bg-transparent !px-0 [&_.mud-button-label]:!gap-1"
                        >
                            <MudIcon Icon="@BurizaIcons.ChevronRightIcon" />
                            Go back
                        </BurizaButton>
                    </div>
                    <div class="flex items-center gap-2">
                        <BurizaButton
                            Variant="Variant.Filled"
                            Color="Color.Primary"
                            OnClick="OnNextButtonClicked"
                            Class="!w-[95px]"
                        >
                            Next
                        </BurizaButton>
                    </div>
                </div>
            </MudCarouselItem>
            @*5th slide*@
            <MudCarouselItem Transition="Transition.Fade" Class="max-[376px]:gap-3! flex flex-col items-center gap-5! !mt-[20px] sm:gap-8!">
                <div class="!text-center !space-y-2 max-w-[420px]!">
                    <div class="max-[376px]:!px-[32px] relative">
                        <div>
                            <MudText Class="max-[376px]:!text-xl !text-2xl !font-medium">
                                Create Password
                            </MudText>
                        </div>
                        <div>
                            <MudImage
                                Alt="yellow diamond"
                                Src="@Misc.DiamondYellow"
                                Class="max-[376px]:w-[20px] max-[376px]:left-1 max-[376px]:top-2 absolute top-0 left-8 w-[32px] rotate-3"
                            />
                            <MudImage
                                Alt="blue diamond"
                                Src="@Misc.DiamondBlue"
                                Class="max-[376px]:left-4 max-[376px]:-top-2 absolute -top-3 left-14 rotate-3"
                            />
                            <MudImage
                                Alt="yellow diamond"
                                Src="@Misc.DiamondYellow"
                                Class="max-[376px]:right-0 max-[376px]:top-2 absolute top-3 right-7 rotate-3"
                            />
                            <MudImage
                                Alt="purple diamond"
                                Src="@Misc.DiamondPurple"
                                Class="max-[376px]:w-[24px] max-[376px]:right-3 max-[376px]:-top-4 absolute -top-5 right-8 w-[40px] rotate-3"
                            />
                        </div>
                    </div>
                    <div>
                        <MudText Class="max-[376px]:h-[20px] max-[376px]:!text-xs !font-light h-[48px]">
                            <span>Set up your password to unlock your wallet</span>
                        </MudText>
                    </div>
                </div>
                <div class="w-full max-w-[420px]! sm:h-[444px]!">
                    <div class="!space-y-3">
                        <BurizaTextField
                            Label="Password"
                        />
                        <BurizaTextField
                            Label="Confirm Password"
                        />
                    </div>
                    <div class="max-[376px]:!mt-[24px] w-full !mt-[36px]">
                        <div>
                            <MudText Class="!text-[var(--mud-palette-text-secondary)] !text-sm !font-normal">
                                Additional Option
                            </MudText>
                        </div>
                        <div class="w-full flex items-center justify-between">
                            <MudText Class="!font-semibold">
                                Use Face ID
                            </MudText>
                            <MudSwitch
                                @bind-Value="UseFaceId"
                                T="bool"
                                Color="Color.Primary"
                                Class="@($"!transition-all !duration-150 {(UseFaceId ? "!bg-[var(--mud-palette-primary)] [&_.mud-switch-button]:!text-[var(--mud-palette-white)]" : "!bg-[var(--mud-palette-gray-default)] [&_.mud-switch-button]:!text-[var(--mud-palette-dark-lighten)]")} !border !border-[var(--mud-palette-dark-lighten)] rounded-full [&_.mud-button-root]:!p-[6px] [&_.mud-switch-span]:!w-[52px] [&_.mud-switch-span]:!h-[32px] [&_.mud-switch-track]:!bg-transparent")"
                            />
                        </div>
                    </div>
                    <div class="w-full flex items-center justify-center !mt-8">
                        <MudImage
                            Alt="onboard buriza"
                            Src="@Mascots.Mascot8"
                            Class="max-[376px]:!w-[152px] !w-[246px]"
                        />
                    </div>
                </div>
                <div class="max-[376px]:flex! max-[376px]:!mt-auto max-md:hidden w-full flex items-center justify-between max-w-[420px]!">
                    <div>
                        <BurizaButton
                            Variant="Variant.Filled"
                            Color="Color.Secondary"
                            OnClick="OnGoBackClicked"
                            Ripple="false"
                            Class="!w-full !bg-transparent !min-w-max hover:!bg-transparent active:!bg-transparent focus:!bg-transparent !px-0 [&_.mud-button-label]:!gap-1"
                        >
                            <MudIcon Icon="@BurizaIcons.ChevronRightIcon" />
                            Go back
                        </BurizaButton>
                    </div>
                    <div class="flex items-center gap-2">
                        <BurizaButton
                            Variant="Variant.Filled"
                            Color="Color.Primary"
                            OnClick="OnNextButtonClicked"
                            Class="!w-[95px]"
                        >
                            Next
                        </BurizaButton>
                    </div>
                </div>
            </MudCarouselItem>
            @*6th slide*@
            <MudCarouselItem Transition="Transition.Fade" Class="flex flex-col items-center justify-center gap-5! !mt-[20px] sm:gap-6!">
                <div class="flex flex-col items-center justify-center gap-6! h-[510px]">
                    <div class="relative">
                        <MudImage
                            Alt="onboard buriza"
                            Src="@Mascots.Mascot3"
                            Class="max-[376px]:!w-[148px] !w-[176px]"
                        />
                        <MudImage
                            Alt="yellow diamond"
                            Src="@Misc.DiamondYellow"
                            Class="absolute top-0 -left-2"
                        />
                        <MudImage
                            Alt="yellow diamond"
                            Src="@Misc.DiamondYellow"
                            Class="absolute top-9 -left-6"
                        />
                        <MudImage
                            Alt="yellow diamond"
                            Src="@Misc.DiamondYellow"
                            Class="absolute top-4 -right-5"
                        />
                        <MudImage
                            Alt="yellow diamond"
                            Src="@Misc.DiamondYellow"
                            Class="absolute -top-5 right-0"
                        />
                    </div>
                    <div class="!text-center !space-y-2 max-w-[430px]">
                        <MudText Class="max-[376px]:!text-[28px] !text-2xl !font-medium max-w-full !text-center !text-[#0271F4] lg:!text-[40px] lg:max-w-[430px]">
                            Congratulations!
                        </MudText>
                        <MudText Class="max-[376px]:!text-sm !text-2xl !font-medium !text-center max-w-[336px]">
                            Your new wallet has been created!
                        </MudText>
                    </div>
                </div>
                <div class="max-[376px]:flex! max-[376px]:!mt-auto max-md:hidden mt-6! w-full flex items-center justify-between max-w-[420px]!">
                    <BurizaButton
                        Variant="Variant.Filled"
                        Color="Color.Primary"
                        OnClick="OnFinishClicked"
                        Class="!w-full"
                    >
                        Save Wallet
                    </BurizaButton>
                </div>
            </MudCarouselItem>
        </MudCarousel>
        <div class="@($"!space-y-3 w-full h-[92px] flex flex-col justify-end max-w-[420px]! md:hidden {(CurrentSlide > 0 ? "max-[376px]:!hidden" : "")}")">
            @if (ShowSecondaryButton)
            {
                <BurizaButton
                    Variant="Variant.Filled"
                    Color="Color.Secondary"
                    OnClick="OnSecondaryButtonClicked"
                    Class="!w-full"
                >
                    @SecondaryButtonText
                </BurizaButton>
            }
            <BurizaButton
                Variant="Variant.Filled"
                Color="Color.Primary"
                OnClick="OnPrimaryButtonClicked"
                Class="!w-full"
            >
                @PrimaryButtonText
            </BurizaButton>
        </div>
    </div>
</section>